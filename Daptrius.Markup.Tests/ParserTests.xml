<?xml version="1.0" encoding="utf-8" ?>
<t:tests xmlns:t="https://ns.berigora.net/2018/daptrius/testDefinitions" xmlns:d="https://ns.berigora.net/2018/daptrius" xml:white-space="preserve">
  <t:test name="SimplePrologue" result="true">
    <t:item><![CDATA[!!! default]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius"/>
    </t:item>
  </t:test>
  <t:test name="PrologueWithAttribute" result="true">
    <t:item><![CDATA[!!! default attr="foo"]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius" attr="foo"/>
    </t:item>
  </t:test>
  <t:test name="OneLineText" result="true">
    <t:item><![CDATA[!!! default
Plain Text
]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius">
        <text-block>Plain Text</text-block>
      </root>
    </t:item>
  </t:test>
  <t:test name="ThreeLinesText" result="true">
    <t:item><![CDATA[!!!default
Plain
Text
Document]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius">
        <text-block>Plain
Text
Document</text-block>
      </root>
    </t:item>
  </t:test>
  <t:test name="TwoParagraphs" result="true">
    <t:item><![CDATA[!!!default
Some plain text
And more text

More text
And even more]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius">
        <text-block>Some plain text
And more text</text-block>
        <text-block>More text
And even more</text-block>
      </root>
    </t:item>
  </t:test>
  <t:test name="NonDefaultDtd" result="true">
    <t:item><![CDATA[!!! test]]></t:item>
    <t:item><root xmlns="https://ns.berigora.net/2018/daptrius/testdtd"/></t:item>
  </t:test>
  <t:test name="AstralPlaneEntities" result="true">
    <t:item><![CDATA[!!! test
&bird;&dragon;]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius/testdtd">
        <textblock>&#x1F426;&#x1F409;</textblock>
      </root>
    </t:item>
  </t:test>
  <t:test name="LiteralBlock" result="true">
    <t:item><![CDATA[!!! default
!>literal]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius">
        <literal-block><![CDATA[literal]]></literal-block>
      </root>
    </t:item>
  </t:test>
  <t:test name="LongLiteralBlock" result="true">
    <t:item><![CDATA[!!! default
!>literal
!>  with
!>indentation]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius">
        <literal-block><![CDATA[literal
  with
indentation]]></literal-block>
      </root>
    </t:item>
  </t:test>
  <t:test name="MixedTextAndLiterals" result="true">
    <t:item><![CDATA[!!!default
blah blah

!> newt newt
normal normal
!> toot toot

woop woop]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius">
        <text-block>blah blah</text-block>
        <literal-block><![CDATA[newt newt]]></literal-block>
        <text-block>normal normal</text-block>
        <literal-block><![CDATA[toot toot]]></literal-block>
        <text-block>woop woop</text-block>
      </root>
    </t:item>
  </t:test>
  <t:test name="NonRootElement" result="true">
    <t:item><![CDATA[!!!default
%foo]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius">
        <foo/>
      </root>
    </t:item>
  </t:test>
  <t:test name="MixedElementText" result="true">
    <t:item><![CDATA[!!!default
%foo

blah
%bar
blah

%foo]]></t:item>
    <t:item>
      <d:root>
        <foo/>
        <d:text-block>blah</d:text-block>
        <bar/>
        <d:text-block>blah</d:text-block>
        <foo/>
      </d:root>
    </t:item>
  </t:test>
  <t:test name="NestedElements" result="true">
    <t:item><![CDATA[!!!default
%foo
  %bar
    %baz
  %bar
%foo]]></t:item>
    <t:item>
      <d:root>
        <foo>
          <bar>
            <baz/>
          </bar>
          <bar/>
        </foo>
        <foo/>
      </d:root>
    </t:item>
  </t:test>
  <t:test name="ElementWithTextLine" result="true">
    <t:item><![CDATA[!!!default
%h1: Title!]]></t:item>
    <t:item>
      <d:root>
        <h1>
          <d:text-block>Title!</d:text-block>
        </h1>
      </d:root>
    </t:item>
  </t:test>
  <t:test name="ElementWithAttributes" result="true">
    <t:item><![CDATA[!!!default
%foo bar=1awoo baz="roar roar" bat]]></t:item>
    <t:item>
      <d:root>
        <foo bar="1awoo" baz="roar roar" bat="1"/>
      </d:root>
    </t:item>
  </t:test>
  <t:test name="ElementWithId" result="true">
    <t:item><![CDATA[!!!default
%foo#one
%foo #two
%foo bar #three baz]]></t:item>
    <t:item>
      <d:root>
        <foo xml:id="one"/>
        <foo xml:id="two"/>
        <foo bar="1" xml:id="three" baz="1"/>
      </d:root>
    </t:item>
  </t:test>
  <t:test name="ElementWithClass" result="true">
    <t:item><![CDATA[!!!default
%foo.one
%foo .two
%foo bar .three baz]]></t:item>
    <t:item>
      <d:root>
        <foo class="one"/>
        <foo class="two"/>
        <foo bar="1" class="three" baz="1"/>
      </d:root>
    </t:item>
  </t:test>
  <t:test name="ElementWithClassAndId" result="true">
    <t:item><![CDATA[!!!default
%foo#four.two
%foo.one#five
%foo #six .wibble
%foo .blorb bat #seven.wibble]]></t:item>
    <t:item>
      <d:root>
        <foo xml:id="four" class="two"/>
        <foo xml:id="five" class="one"/>
        <foo xml:id="six" class="wibble"/>
        <foo bat="1" xml:id="seven" class="blorb wibble"/>
      </d:root>
    </t:item>
  </t:test>
  <t:test name="ElementShorthandAndTextLine" result="true">
    <t:item><![CDATA[!!!default
%foo#eight.belfry: zappo]]></t:item>
    <t:item>
      <d:root>
        <foo xml:id="eight" class="belfry">
          <d:text-block>zappo</d:text-block>
        </foo>
      </d:root>
    </t:item>
  </t:test>
  <t:test name="AttributeWithPrefix" result="true">
    <t:item><![CDATA[!!!default
%h1 xml:lang="en": Title!]]></t:item>
    <t:item>
      <d:root>
        <h1 xml:lang="en">
          <d:text-block>Title!</d:text-block>
        </h1>
      </d:root>
    </t:item>
  </t:test>
  <t:test name="NoValueAttributeWithText" result="true">
    <t:item><![CDATA[!!!default xmlns:z="zorb"
%h1 bat: Title!
%h1 z:ubat: Don't do this]]></t:item>
    <t:item>
      <d:root xmlns:z="zorb">
        <h1 bat="1">
          <d:text-block>Title!</d:text-block>
        </h1>
        <h1 z:ubat="1">
          <d:text-block>Don't do this!</d:text-block>
        </h1>
      </d:root>
    </t:item>
  </t:test>
  <t:test name="MixedContentChildren" result="true">
    <t:item><![CDATA[!!!default
Blah blah
blah
%foo
  beep beep beep
  !>  boop
  !>bop
  %h1: why
  zorb
]]></t:item>
    <t:item>
      <d:root>
        <d:text-block>Blah blah</d:text-block>
        <d:text-block>blah</d:text-block>
        <foo>
          <d:text-block>beep beep beep</d:text-block>
          <d:literal-block><![CDATA[  boop
bop]]></d:literal-block>
          <h1>
            <d:text-block>why</d:text-block>
          </h1>
          <d:text-block>zorb</d:text-block>
        </foo>
      </d:root>
    </t:item>
  </t:test>
  <t:test name="CommentBlock" result="true">
    <t:item><![CDATA[!!! default
!#This is a comment]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius">
        <!--This is a comment-->
      </root>
    </t:item>
  </t:test>
  <t:test name="LongComment" result="true">
    <t:item><![CDATA[!!! default
#! Long comment,
#! split over multiple
#! lines]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius">
        <!-- Long comment
 split over multiple
 lines-->
      </root>
    </t:item>
  </t:test>
  <t:test name="MixedTextComments" result="true">
    <t:item><![CDATA[!!!default
blah blah

!# newt newt
normal normal
!# toot toot

woop woop]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius">
        <text-block>blah blah</text-block>
        <!-- newt newt-->
        <text-block>normal normal</text-block>
        <!-- toot toot-->
        <text-block>woop woop</text-block>
      </root>
    </t:item>
  </t:test>
  <t:test name="XmlnsCanPostcedeItsUse" result="true">
    <t:item><![CDATA[!!!default
%foo xmlns:bar="barbar" bar:att
%foo bar:att xmlns:bar="barbar"]]></t:item>
    <t:item>
      <root xmlns="https://ns.berigora.net/2018/daptrius" xmlns:bar="barbar">
        <foo bar:att="1"/>
        <foo bar:att="1"/>
      </root>
    </t:item>
  </t:test>
</t:tests>